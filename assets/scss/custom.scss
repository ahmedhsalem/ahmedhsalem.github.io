/* assets/scss/custom.scss
   Mobile/desktop hero swap + mobile overlay behavior
   Safe, targeted overrides for the cta-image-paragraph hero and hero block.
*/

/* 1) Default: desktop shows, mobile block hidden */
.only-desktop { display: block; }
.only-mobile  { display: none; }

/* Make sure hero background block keeps its appearance on desktop */
.only-desktop.rf-hero-bg {
  /* keep theme defaults; we only ensure it displays correctly */
  display: block;
}

/* 2) Swap visibility on small screens (phones & small tablets) */
@media (max-width: 820px) {
  .only-desktop { display: none !important; }  /* hide desktop hero */
  .only-mobile  { display: block !important; } /* show mobile image block */
}

/* 3) Force mobile cta-image-paragraph to be an image with text OVERLAY */
/* Target the typical Hugo Blox structure: .cta-image-paragraph > .media (img) and .content */
.only-mobile .media,
.only-mobile .media img {
  width: 100% !important;
  height: auto !important;
  display: block !important;
  object-fit: cover !important;
}

/* Make the parent container position:relative so we can absolutely position overlay text */
.only-mobile .media {
  position: relative !important;
  overflow: hidden;
}

/* Overlay the content on top of the image */
.only-mobile .content {
  position: absolute !important;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex !important;
  align-items: center;
  justify-content: center;
  padding: 1.25rem !important;
  box-sizing: border-box;
  z-index: 5;
}

/* Give the overlay a nice readable backdrop (gradient), adjust text sizing for phones */
.only-mobile .content > * {
  color: #ffffff !important; /* text white for contrast */
}

.only-mobile .content::before {
  /* subtle dark gradient to help readability over images */
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(6,10,26,0.55) 0%, rgba(6,10,26,0.65) 100%);
  z-index: 2;
}

/* Ensure actual content sits above the gradient */
.only-mobile .content > * {
  position: relative;
  z-index: 6;
}

/* Make titles and text comfortable on phones */
.only-mobile .content h1,
.only-mobile .content .h1,
.only-mobile .content .hero-title {
  font-size: clamp(1.25rem, 5.5vw, 1.75rem) !important;
  line-height: 1.15 !important;
  margin-bottom: 0.5rem !important;
}

.only-mobile .content p,
.only-mobile .content .lead {
  font-size: clamp(0.95rem, 3.8vw, 1.05rem) !important;
  line-height: 1.45 !important;
  max-width: 46ch;
  margin: 0 auto !important;
}

/* Buttons: centered and easy to tap */
.only-mobile .content .btn,
.only-mobile .content a.btn {
  margin-top: 0.85rem !important;
  min-height: 44px !important;
  padding: 0.6rem 1rem !important;
  font-weight: 600 !important;
  z-index: 7 !important;
}

/* Layout fallback: on very narrow phones ensure height is controlled */
@media (max-width: 420px) {
  .only-mobile .media img {
    height: auto !important;
  }
  .only-mobile .media {
    min-height: 48vh !important;
  }
}

/* 4) Desktop safety: ensure hero background still covers nicely (no changes on desktop) */
@media (min-width: 821px) {
  .only-desktop.rf-hero-bg {
    background-size: cover !important;
    background-position: center !important;
  }
}
