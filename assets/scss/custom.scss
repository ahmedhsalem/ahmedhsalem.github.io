/* assets/scss/custom.scss
   Robust hero swap + overlay for Hugo Blox cta-image-paragraph + hero.
   Broad selectors to match different HTML structures.
*/

/* 1) Default: show desktop, hide mobile */
.only-desktop { display: block !important; }
.only-mobile  { display: none !important; }

/* 2) On small screens: hide desktop, show mobile */
@media (max-width: 820px) {
  .only-desktop { display: none !important; }
  .only-mobile  { display: block !important; }
}

/* 3) Make any image inside the mobile block behave like a background and fill width */
.only-mobile img,
.only-mobile .media img,
.only-mobile .item .media img,
.only-mobile .cta-image-paragraph img {
  width: 100% !important;
  height: auto !important;
  display: block !important;
  object-fit: cover !important;
}

/* 4) Turn the mobile block into a positioned container so we can overlay content */
.only-mobile .media,
.only-mobile .item .media,
.only-mobile .cta-image-paragraph .media {
  position: relative !important;
  overflow: hidden !important;
}

/* 5) Overlay the content on top of the image (works for several DOM variants) */
.only-mobile .content,
.only-mobile .item .content,
.only-mobile .cta-image-paragraph .content,
.only-mobile .cta-image-paragraph .text {
  position: absolute !important;
  inset: 0 0 0 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  padding: 1rem !important;
  box-sizing: border-box !important;
  z-index: 5 !important;
}

/* gradient behind text for readability */
.only-mobile .content::before,
.only-mobile .item .content::before,
.only-mobile .cta-image-paragraph .content::before {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;
  background: linear-gradient(180deg, rgba(6,10,26,0.55) 0%, rgba(6,10,26,0.65) 100%) !important;
  z-index: 4 !important;
}

/* ensure the textual elements sit above the gradient */
.only-mobile .content > * ,
.only-mobile .item .content > * {
  position: relative !important;
  z-index: 6 !important;
  color: #fff !important;
}

/* typographic sizing on mobile */
.only-mobile h1,
.only-mobile .hero-title,
.only-mobile .content h1,
.only-mobile .content .h1 {
  font-size: clamp(1.2rem, 5.5vw, 1.6rem) !important;
  line-height: 1.15 !important;
  margin-bottom: .5rem !important;
}

.only-mobile p,
.only-mobile .content p,
.only-mobile .lead {
  font-size: clamp(.95rem, 3.8vw, 1.05rem) !important;
  line-height: 1.45 !important;
  max-width: 46ch !important;
  margin: 0 auto !important;
}

/* buttons centered and tappable */
.only-mobile .btn,
.only-mobile a.btn,
.only-mobile .content .btn {
  margin-top: .85rem !important;
  min-height: 44px !important;
  padding: .6rem 1rem !important;
  font-weight: 600 !important;
  z-index: 7 !important;
}

/* safety for very narrow screens */
@media (max-width: 420px) {
  .only-mobile .media { min-height: 48vh !important; }
  .only-mobile .media img { height: auto !important; }
}

/* Desktop safety: ensure hero background remains cover */
@media (min-width: 821px) {
  .only-desktop.rf-hero-bg {
    background-size: cover !important;
    background-position: center !important;
  }
}
