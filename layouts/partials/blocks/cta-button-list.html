{{/* layouts/partials/blocks/cta-button-list.html */}}
{{ $block := .wcBlock }}

{{ $title := $block.content.title | default $block.title | default $block.Params.title }}
{{ $text := $block.content.text | default $block.content.subtitle | default $block.Params.text }}

{{ if $title }}
  <h2 class="section-title text-3xl font-bold mb-2 text-center">
    {{ $title | markdownify | emojify | safeHTML }}
  </h2>
{{ end }}

{{ if $text }}
  <p class="section-text text-lg mb-6 text-center text-gray-600">
    {{ $text | markdownify | emojify | safeHTML }}
  </p>
{{ end }}

<div class="rf-cta-list flex items-center flex-col mx-auto w-full justify-center mt-4 px-6 pb-5">
  {{ $buttons := $block.content.buttons | default (or $block.Params.buttons $block.buttons) }}
  {{ range $buttons }}
    {{ $target := .url | default "" }}
    {{ if hasPrefix $target "#" }}
      <button
        type="button"
        class="rf-cta-button"
        data-scroll-target="{{ $target }}"
        aria-label="Jump to {{ .text }}"
      >
        <span class="rf-cta-icon" aria-hidden="true">
          {{ with .icon }}
            {{ partial "functions/get_icon" (dict "name" . "attributes" "height=\"24\" width=\"24\"") }}
          {{ end }}
        </span>
        <span class="rf-cta-text">{{ .text | markdownify | emojify }}</span>
      </button>
    {{ else }}
      <a href="{{ $target }}" class="rf-cta-button rf-cta-link" aria-label="Go to {{ .text }}">
        <span class="rf-cta-icon" aria-hidden="true">
          {{ with .icon }}
            {{ partial "functions/get_icon" (dict "name" . "attributes" "height=\"24\" width=\"24\"") }}
          {{ end }}
        </span>
        <span class="rf-cta-text">{{ .text | markdownify | emojify }}</span>
      </a>
    {{ end }}
  {{ end }}
</div>
